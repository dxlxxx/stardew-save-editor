# Electron 版本新功能

## 自动目录加载和保存功能

在 Electron 桌面版中，现在支持更便捷的存档编辑方式：

### 主要特性

1. **选择存档目录**
   - 无需手动上传文件
   - 点击"选择存档目录"按钮
   - 选择存档所在的文件夹（通常在 `%appdata%\StardewValley\Saves\存档文件夹\`）

2. **自动文件识别**
   - 自动读取目录中的主存档文件
   - 自动读取 SaveGameInfo 文件（如果存在）
   - 智能过滤备份文件（.old 文件）

3. **自动覆盖保存**
   - 完成主机迁移后，修改后的文件会**自动覆盖**原文件
   - 无需手动下载和替换
   - 同时更新主存档和 SaveGameInfo 文件

### 使用步骤

1. 启动 Electron 应用：`npm run dev:electron`
2. 点击"选择存档目录"按钮
3. 浏览到你的存档文件夹
4. 程序会自动加载存档
5. 选择要设为主机的玩家
6. 点击"设为主机"
7. 文件会自动保存覆盖

### 注意事项

⚠️ **重要：修改前务必备份原存档！**

虽然程序会自动覆盖文件，但强烈建议在修改前：
1. 复制整个存档文件夹作为备份
2. 或者让游戏自动创建备份（游戏会保留最近的备份为 .old 文件）

### 浏览器版本

在浏览器版本中，仍然使用原来的方式：
- 手动上传存档文件
- 下载修改后的文件
- 手动替换原文件
